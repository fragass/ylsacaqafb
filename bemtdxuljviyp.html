<!DOCTYPE html>
<html lang="pt-BR">
<head>
                     <script>
  // Proteção: exige login em todo acesso
  if (sessionStorage.getItem("auth") !== "true") {
 window.location.href = "index.html";
  }
</script>
  <meta charset="UTF-8">
    <title>Página inicial - Workday</title>
      <link rel="icon" href="favicon.png" type="image/png">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- OVERLAY CHANGELOG -->
<div id="overlay" class="overlay">
  <div class="overlay-box">
    <h2>✨</h2>
<ul>
  <li>Adicionadas as temporadas <b>1ª</b> e <b>2ª</b> de Demon Slayer.</li>
  <li>Adicionadas todas as temporadas de Spy x Family.</li>
  <li>Adicionada a <b>1ª</b>, <b>2ª</b>, <b>3ª</b> e <b>4ª</b> temporada de Rick e Morty</li>
  <li>Adicionada a <b>1ª</b> temporada de Dan Da Dan.</li>
  <li>Adicionada a <b>1ª</b> temporada de South Park.</li>
  <li>Adicionada a <b>1ª</b> temporada de Os Simpsons.</li>
  <li>Adicionada a <b>1ª</b> temporada de Futurama.</li>
  <li>Adicionada a <b>1ª</b> temporada de Uma Família da Pesada.</li>
</ul>
    <button id="close-overlay">Fechar</button>
  </div>
</div>

  <div id="mini-profile">
   <span id="user-phone"></span>
  <!-- seta fina em SVG -->
  <svg id="arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="6 9 12 15 18 9"></polyline>
  </svg>
</div>

  <!-- Dropdown menu -->
  <div id="dropdown-menu">
    <button id="logout">Sair</button>
  </div>    


  
    <!-- CATÁLOGO -->
    <section id="catalogo" class="catalogo">     
      <div class="card" data-titulo="deathnote">
        <img src="imgs/deathnote.jpg" alt="Death Note">
      </div>

      <div class="card" data-titulo="spyxfamily">
        <img src="imgs/spyxfamily.jpg" alt="Spy x Family">
      </div>

      <div class="card" data-titulo="jujutsukaisen">
        <img src="imgs/jujutsukaisen.jpg" alt="Jujutsu Kaisen">
      </div>

      <div class="card" data-titulo="sololeveling">
        <img src="imgs/sololeveling.jpg" alt="Solo Leveling">
      </div>

            <div class="card" data-titulo="demonslayer">
        <img src="imgs/demonslayer.jpg" alt="Demon Slayer">
      </div>

                  <div class="card" data-titulo="dandadan">
        <img src="imgs/dandadan.jpg" alt="Dan Da Dan">
      </div>

                        <div class="card" data-titulo="southpark">
        <img src="imgs/southpark.jpg" alt="South Park">
      </div>

                              <div class="card" data-titulo="ossimpsons">
        <img src="imgs/ossimpsons.jpg" alt="Os Simpsons">
      </div>

                                    <div class="card" data-titulo="futurama">
        <img src="imgs/futurama.jpg" alt="Futurama">
      </div>
  
                                    <div class="card" data-titulo="familyguy">
        <img src="imgs/familyguy.jpg" alt="Family Guy">
      </div>

                                          <div class="card" data-titulo="rickemorty">
        <img src="imgs/rickemorty.jpg" alt="Rick e Morty">
      </div>
    </section>
    <!-- DETALHES -->
    <section id="detalhes" class="detalhes hidden">
      <button id="voltar">Voltar</button>

      <select id="temporadas"></select>

      <div id="episodios" class="episodios"></div>
    </section>

  </div>

  <div style="text-align: center; color: white; margin-top: 40px; margin-bottom: -40px; font-size: 14px;">
  Para solicitar a adição de novos títulos, reportar links fora do ar ou informar erros no site,
  <a href="https://x7a9q2m8l4.vercel.app/fjpuwozfbfxz.html" target="_blank" style="color: white; text-decoration: underline;">
    clique aqui
  </a>.
</div>

<script>
  
  const overlay = document.getElementById("overlay");
const closeOverlay = document.getElementById("close-overlay");

closeOverlay.addEventListener("click", () => {
  overlay.style.display = "none";
});
</script>
  
<script>
  // pega o telefone do usuário logado
  const phone = sessionStorage.getItem("loggedUserPhone");
  if (phone) {
    document.getElementById("user-phone").textContent = phone;
  }

  // proteção extra: redireciona se não estiver logado
  if (sessionStorage.getItem("auth") !== "true") {
    window.location.href = "index.html";
  }
 // dropdown toggle
    const miniProfile = document.getElementById("mini-profile");
    const dropdownMenu = document.getElementById("dropdown-menu");
    const arrow = document.getElementById("arrow");

miniProfile.addEventListener("click", () => {
  const isVisible = dropdownMenu.style.display === "block";
  dropdownMenu.style.display = isVisible ? "none" : "block";
  arrow.style.transform = isVisible ? "rotate(0deg)" : "rotate(180deg)";
});

    // logout: limpa sessão e volta para login
    document.getElementById("logout").addEventListener("click", () => {
      sessionStorage.clear();
      window.location.href = "index.html";
    });

    // opcional: fecha dropdown clicando fora
    document.addEventListener("click", (e) => {
      if (!miniProfile.contains(e.target) && !dropdownMenu.contains(e.target)) {
        dropdownMenu.style.display = "none";
        arrow.style.transform = "rotate(0deg)";
      }
    });
</script>
    
  <script src="js/main.js"></script>
</body>
</html>









































